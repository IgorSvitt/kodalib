# Kodalib

Данный проект представляет собой backend часть сайта, который содержит информацию о корейских фильмах и сериалах.

## Стек технологий

- Язык программирования: C# 6
- База данных: PostgreSQL
- ORM: EntityFramework

## Описание структуры проекта

Проект содержит следующие папки и файлы:

- Controllers - содержит контроллеры для взаимодействия с клиентской частью сайта
- Dal - содержит контекст базы данных и миграции для EntityFramework
- Domain - содержит модели данных для работы с базой данных
- Services - содержит классы для обработки бизнес-логики приложения
- Repository - содержит классы для работы с базой данных

## Описание API

API предоставляет следующие методы для работы с информацией о корейских фильмах и сериалах:

- GET /api/films - получить список всех фильмов
- GET /api/films/{id} - получить информацию о фильме по идентификатору
- GET /api/series - получить список всех сериалов
- GET /api/series/{id} - получить информацию о сериале по идентификатору
- GET /api/countries - получить список всех стран
- GET /api/genres -  получить список всех жанров

## Docker и Docker-compose

Docker Compose файл (docker-compose.yml) описывает конфигурацию контейнеров и их настройки. В данном файле определены две службы: koda и db. Служба koda создается на основе образа, который собирается из исходного кода приложения в директории ./KodalibApi, используя Dockerfile. Контейнер службы koda также привязан к порту 80 на хосте. Служба db использует готовый образ Postgres и определяет переменную среды POSTGRES_PASSWORD.

Dockerfile используется для создания собственного образа Docker на основе базового образа. Этот Dockerfile определяет несколько этапов сборки образа. Сначала создается базовый образ, настраивается рабочая директория и определяются экспонируемые порты. Затем создается образ с SDK .NET 6.0, который копирует проект приложения в образ и собирает его. В этом же образе создается публикационная версия приложения. В конечном образе на основе базового образа настраивается рабочая директория, копируется публикационная версия приложения и определяется точка входа.

# Для запуска приложения, необходимо выполнить следующие команды:
1. `docker build -t <имя_образа> <путь_к_Dockerfile>`
# Запустить контейнеры из файла docker-compose.yml:
1. `docker-compose up -d`

## Заключение

Данный проект использует стек технологий, включающий C# 6, PostgreSQL и EntityFramework, для создания API, которое обрабатывает запросы от клиентской части сайта о корейских фильмах и сериалах.


